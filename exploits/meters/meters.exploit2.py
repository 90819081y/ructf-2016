#!/usr/bin/python3

import sys
import requests
import re
import json

def solve(a, b):
	res = []
	for x0 in range(32, 128):
		print()
		for x1 in range(32, 128):
			print('.', end='')
			for x2 in range(32, 128):
				for x3 in range(32, 128):
					fail = False
					for i in range(len(a)):
						if abs(x0 * a[0][i] + x1 * a[1][i] + x2 * a[2][i] + x3 * a[3][i] - b[i]) > 0.001:
							fail = True
							break
					if not fail:
					 	print([x0, x1, x2, x3])
					 	res.append([x0, x1, x2, x3])
				
hostname, dashboard = sys.argv[1:]

host = 'http://{}:{}/'.format(hostname, 6725)

response = requests.get(host + 'dashboard/view/?dashboardId=' + dashboard);

r = re.compile(r"<script>draw\('#sensor\d+', (\[[^\]]+\])\);</script>")
sensors = list(map(json.loads, r.findall(response.text)))

initial = sensors[:4]
sensors = sensors[4:]

for bb in sensors:
	print(solve(initial, bb))
